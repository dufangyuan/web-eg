<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				padding: 0;
				margin: 0;
			}
			div{
				width:500px;
				height:400px;
				border:1px solid black;
				position: relative;
				margin: 100px;
			}
			p{
				width:100px;
				height:100px;
				position: absolute;
				top:0;
				left:0;
				background-color: yellow;
			}
		</style>
	</head>
	<body>
		<div>
			<p></p>
		</div>
		<script type="text/javascript">
			/*var div=document.getElementsByTagName("div")[0];
			var p=document.getElementsByTagName("p")[0];
			p.onmousemove=function(event){
				event=event||window.event;
				var delayX=event.clientX-p.offsetLeft;
				var delayY=event.ClientY-p.offsetTop;
				div.onmousemove=function(event){
					event=event||window.event;
					var x=event.clientX-delayX;
					var y=event.clientY-delayY;
					if(x<10) x=0;
					if(y<10) y=0;
					if(x>div.clientWidth-p.clientWidth-10){
						x=div.clientWidth-p.clientWidth;
					}
					if(y>div.clientHeight-p.clientHeight-10){
						y=div.clientHeight-p.clientHeight;
					}
					p.style.left=x+"px";
					p.style.top=y+"px";
				}
				document.onmouseup=function(){
					div.onmousemove=null;
				}
			}*/
			var div=document.getElementsByTagName("div")[0];
			var p=document.getElementsByTagName("p")[0];
			p.onmousemove=function(event){
				event=event||window.event;
				var delayX=event.clientX-p.offsetLeft;
				var delayY=event.ClientY-p.offsetTop;
				div.onmousemove=function(event){
					event=event||window.event;
					var x=event.clientX-delayX;
					var y=event.clientY-delayY;
					if(x<10) x=0;
					if(y<10) y=0;
					if(x>div.clientWidth-p.clientWidth-10){
						x=div.clientWidth-p.clientWidth;
					}
					if(y>div.clientHeight-p.clientHeight-10){
						y=div.clientHeight-p.clientHeight;
					}
					p.style.left=x+"px";
					p.style.top=y+"px";
				}
				document.onmouseup=function(){
					div.onmousemove=null;
				}
			}
		</script>
	</body>
</html>
